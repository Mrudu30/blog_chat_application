{% extends "main_task.html" %}
{% block content %}
    <div class="d-flex">
        <span style="font-size: 30px;"><b>Tasks</b></span>
        <button class="btn btn-sm btn-primary ml-auto" id="add-task" onclick="add_task()">Add Task</button>
    </div>
    <div id="message" style="display: none;"></div>
    <div class="my-2">
        <table class="table table-striped table-inverse" id="taskstable">
            <thead class="thead-inverse">
                <tr>
                    <th>Sr no.</th>
                    <th>Task</th>
                    <th>Due Date</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>
    <div style="display: none;" id="task_form">
        <form method="post" id="task_form_id">
            {% csrf_token %}
            <input type="hidden" name="form-type" id="form-type">
            <input type="hidden" name="task_id" id="task_id">
            <div class="form-group">
                <label for="title" class="form-label">Task Title<span class="text-danger">*</span>:</label>
                <input type="text" name="title" id="title" class="form-control" placeholder="Give a title to task" aria-describedby="title_help"/>
                <small id="title_help" class="form-text text-danger"></small>
            </div>
            <div class="form-group">
                <label for="description" class="form-label">Task Description<span class="text-danger">*</span>:</label>
                <input type="text" name="description" id="description" class="form-control" placeholder="Give a description to task" aria-describedby="description_help"/>
                <small id="description_help" class="form-text text-danger"></small>
            </div>
            <div class="form-group">
                <label for="color" class="form-label">Task Color:</label>
                <input type="color" name="color" id="color" value="#FFFFFF" class="form-control" aria-describedby="color_help"/>
                <small id="color_help" class="form-text text-danger"></small>
            </div>
            <div class="form-group">
                <label for="due_date" class="form-label">Due Date<span class="text-danger">*</span>:</label>
                <input type="text" name="due_date" id="due_date" class="form-control datepicker" placeholder="Select due date" aria-describedby="due_date_help"/>
                <small id="due_date_help" class="form-text text-danger"></small>
            </div>
            <input type="submit" class="btn btn-sm btn-primary" value="Submit">
        </form>
    </div>
<script>
    taskload()
    $(document).ready(function(){

        $('#due_date').datepicker({
            dateFormat: 'yy-mm-dd',
            changeMonth: true,
            changeYear: true,
            minDate: 0
        });

        /*$('#color').spectrum({
            preferredFormat: "hex",
            showInput: true,
            showInitial: true,
            showPalette: true,
            palette: [
                ['#ff0000', '#00ff00', '#0000ff'],
                ['#ffff00', '#ff00ff', '#00ffff']
            ]
        });*/
    });
</script>
{% endblock %}